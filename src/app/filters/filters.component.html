<div class="filters-header">
	<h2>General filters</h2>

	<button mat-icon-button matTooltip="Use my pre-defined filters">
		<mat-icon>auto_awesome</mat-icon>
	</button>

	<button mat-icon-button matTooltip="Reset all filters">
		<mat-icon>filter_alt_off</mat-icon>
	</button>
</div>

<mat-accordion displayMode="flat">
	<mat-expansion-panel id="filter-property-type">
		<mat-expansion-panel-header>
			<mat-panel-title>
				<mat-slide-toggle (click)="$event.stopPropagation()" color="primary"></mat-slide-toggle>
				Property type
			</mat-panel-title>
			<mat-panel-description>{{ countEnabledToggles("property-type") }}</mat-panel-description>
		</mat-expansion-panel-header>
		<div [formGroup]="propertyTypeFormGroup" class="filters-horizontal">
			<section>
				<mat-checkbox formControlName="room">Room</mat-checkbox>
				<mat-checkbox formControlName="apartment">Apartment</mat-checkbox>
				<mat-checkbox formControlName="studio">Studio</mat-checkbox>
				<mat-checkbox formControlName="anti_squat">Anti-squat</mat-checkbox>
				<mat-checkbox formControlName="student_residence">Student residence</mat-checkbox>
			</section>
		</div>
	</mat-expansion-panel>

	<mat-expansion-panel id="filter-rent">
		<mat-expansion-panel-header>
			<mat-panel-title>
				<mat-slide-toggle (click)="$event.stopPropagation()" color="primary"></mat-slide-toggle>
				Rent per month
			</mat-panel-title>
			<mat-panel-description>€{{rentMin}}-{{rentMax}}</mat-panel-description>
		</mat-expansion-panel-header>

		<div class="filters-horizontal">
			<section class="filters-slider">
				<mat-slider [max]="rentLimitMax" [min]="rentLimitMin" [step]="rentStep">
					<input [(ngModel)]="rentMin" [max]="rentMax" matSliderStartThumb/>
					<input [(ngModel)]="rentMax" [min]="rentMin" matSliderEndThumb/>
				</mat-slider>
			</section>

			<section class="filters-numbers">
				<mat-form-field appearance="outline">
					<mat-label>Min</mat-label>
					<input [(ngModel)]="rentMin" [max]="rentMax" [min]="rentLimitMin" [step]="rentStep" matInput
						required type="number"/>
					<span matTextPrefix>€&nbsp;</span>
				</mat-form-field>
				<mat-form-field appearance="outline">
					<mat-label>Max</mat-label>
					<input [(ngModel)]="rentMax" [max]="rentLimitMax" [min]="rentMin" [step]="rentStep" matInput
						required type="number"/>
					<span matTextPrefix>€&nbsp;</span>
				</mat-form-field>
			</section>
		</div>
	</mat-expansion-panel>

	<mat-expansion-panel id="filter-surface">
		<mat-expansion-panel-header>
			<mat-panel-title>
				<mat-slide-toggle (click)="$event.stopPropagation()" color="primary"></mat-slide-toggle>
				Surface
			</mat-panel-title>
			<mat-panel-description>{{surfaceMin}}-{{surfaceMax}}M²</mat-panel-description>
		</mat-expansion-panel-header>

		<div class="filters-horizontal">
			<section class="filters-slider">
				<mat-slider [max]="surfaceLimitMax" [min]="surfaceLimitMin" [step]="surfaceStep">
					<input [(ngModel)]="surfaceMin" [max]="surfaceMax" matSliderStartThumb/>
					<input [(ngModel)]="surfaceMax" [min]="surfaceMin" matSliderEndThumb/>
				</mat-slider>
			</section>

			<section class="filters-numbers">
				<mat-form-field appearance="outline">
					<mat-label>Min</mat-label>
					<input [(ngModel)]="surfaceMin" [max]="surfaceMax" [min]="surfaceLimitMin" [step]="surfaceStep"
						matInput required type="number"/>
					<span matTextSuffix>&nbsp;M²</span>
				</mat-form-field>
				<mat-form-field appearance="outline">
					<mat-label>Max</mat-label>
					<input [(ngModel)]="surfaceMax" [max]="surfaceLimitMax" [min]="surfaceMin" [step]="surfaceStep"
						matInput required type="number"/>
					<span matTextSuffix>&nbsp;M²</span>
				</mat-form-field>
			</section>
		</div>
	</mat-expansion-panel>

	<mat-expansion-panel id="filter-city">
		<mat-expansion-panel-header>
			<mat-panel-title>
				<mat-slide-toggle (click)="$event.stopPropagation()" color="primary"></mat-slide-toggle>
				City
			</mat-panel-title>
			<mat-panel-description
				matTooltip="{{ cities.join(', ') }}">{{ countNumberOfCities() }}</mat-panel-description>
		</mat-expansion-panel-header>

		<mat-form-field appearance="outline" class="full-width" floatLabel="always">
			<mat-label>Show properties in city</mat-label>
			<mat-chip-grid #chipGrid aria-label="City selection">
				<mat-chip-row (removed)="removeCity(city)" *ngFor="let city of cities">
					{{city}}
					<button [attr.aria-label]="'removeCity ' + city" matChipRemove>
						<mat-icon>cancel</mat-icon>
					</button>
				</mat-chip-row>
			</mat-chip-grid>
			<input #cityInput [formControl]="citiesFormControl" [matAutocomplete]="auto" [matChipInputFor]="chipGrid"
				[matChipInputSeparatorKeyCodes]="separatorKeysCodes" placeholder="Enter city name..."/>
			<mat-autocomplete #auto="matAutocomplete" (optionSelected)="selectedCity($event)" autoActiveFirstOption>
				<mat-option *ngFor="let city of filteredCities | async | slice:0:5" [value]="city">
					{{city}}
				</mat-option>
			</mat-autocomplete>
		</mat-form-field>
	</mat-expansion-panel>

	<mat-expansion-panel id="filter-rooms">
		<mat-expansion-panel-header>
			<mat-panel-title>
				<mat-slide-toggle (click)="$event.stopPropagation()" color="primary"></mat-slide-toggle>
				Rooms
			</mat-panel-title>
		</mat-expansion-panel-header>
		<div class="filters-horizontal">
			<span>Kitchen</span>
			<section>
				<mat-button-toggle-group multiple name="kitchen">
					<mat-button-toggle value="own">
						<mat-icon>face</mat-icon>
						Own
					</mat-button-toggle>
					<mat-button-toggle value="shares">
						<mat-icon>groups</mat-icon>
						Shared
					</mat-button-toggle>
					<mat-button-toggle value="none">
						<mat-icon>not_interested</mat-icon>
						None
					</mat-button-toggle>
				</mat-button-toggle-group>
			</section>
			<span>Bathroom</span>
			<section>
				<mat-button-toggle-group multiple name="bathroom">
					<mat-button-toggle value="own">
						<mat-icon>face</mat-icon>
						Own
					</mat-button-toggle>
					<mat-button-toggle value="shares">
						<mat-icon>groups</mat-icon>
						Shared
					</mat-button-toggle>
					<mat-button-toggle value="none">
						<mat-icon>not_interested</mat-icon>
						None
					</mat-button-toggle>
				</mat-button-toggle-group>
			</section>
			<span>Living room</span>
			<section>
				<mat-button-toggle-group multiple name="living_room">
					<mat-button-toggle value="own">
						<mat-icon>face</mat-icon>
						Own
					</mat-button-toggle>
					<mat-button-toggle value="shares">
						<mat-icon>groups</mat-icon>
						Shared
					</mat-button-toggle>
					<mat-button-toggle value="none">
						<mat-icon>not_interested</mat-icon>
						None
					</mat-button-toggle>
				</mat-button-toggle-group>
			</section>
		</div>
	</mat-expansion-panel>

	<mat-expansion-panel id="filter-facilities-rules">
		<mat-expansion-panel-header>
			<mat-panel-title>
				<mat-slide-toggle (click)="$event.stopPropagation()" color="primary"></mat-slide-toggle>
				Facilities and rules
			</mat-panel-title>
			<mat-panel-description>{{ countEnabledToggles("facilities-rules") }}</mat-panel-description>
		</mat-expansion-panel-header>
		<div class="filters-horizontal">
			<mat-slide-toggle name="furnished">Furnished</mat-slide-toggle>
			<mat-slide-toggle name="internet">Internet included</mat-slide-toggle>
			<mat-slide-toggle name="utilities">Utilities included</mat-slide-toggle>
			<mat-slide-toggle name="pets">Pets allowed</mat-slide-toggle>
			<mat-slide-toggle name="smoking">Smoking inside allowed</mat-slide-toggle>
		</div>
	</mat-expansion-panel>

	<mat-expansion-panel id="filter-energy-label">
		<mat-expansion-panel-header>
			<mat-panel-title>
				<mat-slide-toggle (click)="$event.stopPropagation()" color="primary"></mat-slide-toggle>
				Energy label
			</mat-panel-title>
		</mat-expansion-panel-header>
		<mat-button-toggle-group multiple name="energyLabel">
			<mat-button-toggle value="A">A</mat-button-toggle>
			<mat-button-toggle value="B">B</mat-button-toggle>
			<mat-button-toggle value="C">C</mat-button-toggle>
			<mat-button-toggle value="D">D</mat-button-toggle>
			<mat-button-toggle value="F">F</mat-button-toggle>
			<mat-button-toggle value="G">G</mat-button-toggle>
		</mat-button-toggle-group>
	</mat-expansion-panel>

	<mat-expansion-panel id="filter-rentable-period">
		<mat-expansion-panel-header>
			<mat-panel-title>
				<mat-slide-toggle (click)="$event.stopPropagation()" color="primary"></mat-slide-toggle>
				Rentable period
			</mat-panel-title>
		</mat-expansion-panel-header>

		<mat-form-field appearance="outline" class="full-width">
			<input [matDatepicker]="picker" matInput placeholder="Choose a date range">
			<mat-datepicker-toggle [for]="picker" matSuffix></mat-datepicker-toggle>
			<mat-datepicker #picker></mat-datepicker>
		</mat-form-field>

	</mat-expansion-panel>
</mat-accordion>

<div class="filters-header">
	<h2>Matching filters</h2>
</div>

<mat-accordion>
	<mat-expansion-panel>
		<mat-expansion-panel-header>
			<mat-panel-title>
				Age
			</mat-panel-title>
		</mat-expansion-panel-header>
	</mat-expansion-panel>
	<mat-expansion-panel>
		<mat-expansion-panel-header>
			<mat-panel-title>
				Gender
			</mat-panel-title>
		</mat-expansion-panel-header>
	</mat-expansion-panel>
	<mat-expansion-panel>
		<mat-expansion-panel-header>
			<mat-panel-title>
				Daytime activity
			</mat-panel-title>
		</mat-expansion-panel-header>
	</mat-expansion-panel>
	<mat-expansion-panel>
		<mat-expansion-panel-header>
			<mat-panel-title>
				Number of people
			</mat-panel-title>
		</mat-expansion-panel-header>
	</mat-expansion-panel>
	<mat-expansion-panel>
		<mat-expansion-panel-header>
			<mat-panel-title>
				Languages
			</mat-panel-title>
		</mat-expansion-panel-header>
	</mat-expansion-panel>
</mat-accordion>